---
title: 网关
date: 2023-07-03 16:41:38
tags:
- 计算机网络
mathjax: true
categories: 
- 计算机网络
---

# 网关

## 一、什么是网关

网关(Gateway)又称网间连接器、协议转换器。网关在传输层上以实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。

## 二、如何来理解网关

大家都知道，从一个房间走到另一个房间，必然要经过**一扇门**。同样，从一个网络向另一个网络发送信息，也必须经过一道“关口”，这道关口就是网关。顾名思义，网关(Gateway)就是一个网络连接到另一个网络的“**关口**”。

按照不同的分类标准，网关也有很多种。TCP/IP协议里的网关是最常用的，在这里我们所讲的“网关”均指TCP/IP协议下的网关。



## 三、网关的ip地址

**那么网关到底是什么呢？**

网关实质上是一个网络通向其他网络的IP地址，网关在网段内的可用**ip中选一个**，不过，一般用的是**第1个和最后一个**。

**例如**

比如有网络A和网络B，

**网络A：** 的IP地址范围为“192.168.1.1~192. 168.1.254”，子网掩255.255.255.0；

如果需要与其它网段通信，那么它的网关可以设置为192.168.1.1，当然也可以设置为**网段内**其它的一个ip地址。

**网络B：** 的IP地址范为“192.168.2.1~192.168.2.254”，子网掩码255.255.255.0。

如果需要与其它网段通信，那么它的网关可以设置为192.168.2.1，当然也可以设置为**网段内**其它的一个ip地址。

## 四、网关是如何实现通信？

在没有**路由器**的情况下，不同的两个网络之间是**不能**进行TCP/IP通信的，即使是两个网络连接在同一台交换机(或集线器)上，TCP/IP协议也会根据子网掩码(255.255.255.0)判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则**必须通过网关**。

如果**网络A**中的主机发现**数据包**的目的主机**不在**本地网络中，就把数据包转发给它**自己的网关**，再由网关转发给网络B的网关，网络B的网关再转发给网络B的某个主机(如附图所示)。网络B向网络A转发数据包的过程。

所以说，只有设置好网关的**IP地址**，TCP/IP协议才能实现不同网络之间的相互通信。

## 五、什么是默认网关？

如果搞清了什么是网关，默认网关也就好理解了。就好像一个房间可以有多扇门一样，一台主机可以有多个网关。**默认网关**的意思是一台主机如果找不到可用的网关，就把数据包发给默认**指定的网关**，由这个网关来处理数据包。现在**主机**使用的网关，一般指的是默认网关。